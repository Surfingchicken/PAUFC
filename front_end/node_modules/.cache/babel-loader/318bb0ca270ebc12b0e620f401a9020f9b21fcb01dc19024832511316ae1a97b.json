{"ast":null,"code":"var _jsxFileName = \"/Users/clemzouuu/Desktop/ESGI/ARCHI_1/PROJET_ANNUEL/UFC-QUE-CHOISIR/ufc/front_end/src/components/bills/Contributions.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport '../../styles/home.css';\nimport Modal from './Modal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe('pk_test_51PdZ5OJR2hyal4ZRgFsePEuUdfqPYa0D6RhfbwzAj1h0RmnItT51bQwwUq4LNb8KrojF1NoiZeHJqJZOYBfTOz7S003JkbkRp6');\nconst ContributionsForm = () => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [amount, setAmount] = useState(50);\n  const [name, setName] = useState('');\n  const [surname, setSurname] = useState('');\n  const [email, setEmail] = useState('');\n  const [streetNumber, setStreetNumber] = useState('');\n  const [streetName, setStreetName] = useState('');\n  const [postalCode, setPostalCode] = useState('');\n  const [city, setCity] = useState('');\n  const [errors, setErrors] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [modalMessage, setModalMessage] = useState(null);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    setErrors([]);\n    setErrorMessage(null);\n    const newErrors = [];\n    if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(name)) newErrors.push('Le nom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n    if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(surname)) newErrors.push('Le prénom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n    if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(city)) newErrors.push('La ville ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) newErrors.push('L\\'email n\\'est pas valide.');\n    if (!/^\\d{5}$/.test(postalCode)) newErrors.push('Le code postal doit contenir exactement 5 chiffres.');\n    setErrors(newErrors);\n    if (newErrors.length > 0) {\n      setLoading(false);\n      setModalMessage(newErrors.join('\\n'));\n      return;\n    }\n    if (!stripe || !elements) {\n      setErrorMessage('Stripe n\\'est pas correctement configuré.');\n      setLoading(false);\n      setModalMessage('Stripe n\\'est pas correctement configuré.');\n      return;\n    }\n    const cardElement = elements.getElement(CardElement);\n    if (!cardElement) {\n      setErrorMessage('Élément de carte introuvable.');\n      setLoading(false);\n      setModalMessage('Élément de carte introuvable.');\n      return;\n    }\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: cardElement,\n      billing_details: {\n        name: name + \" \" + surname,\n        email: email,\n        address: {\n          line1: `${streetNumber} ${streetName}`,\n          postal_code: postalCode,\n          city: city,\n          country: 'FR'\n        }\n      }\n    });\n    if (error) {\n      setErrorMessage('Erreur de création de méthode de paiement : ' + error.message);\n      setLoading(false);\n      setModalMessage('Erreur de création de méthode de paiement : ' + error.message);\n      return;\n    }\n    if (paymentMethod) {\n      try {\n        const response = await fetch('http://localhost:3000/contributions', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            amount: amount,\n            paymentMethodId: paymentMethod.id\n          })\n        });\n        const paymentResult = await response.json();\n        if (paymentResult.error) {\n          setModalMessage('Erreur lors de la création de l\\'intention de paiement : ' + paymentResult.error);\n        } else {\n          setModalMessage('Paiement réussi !');\n          // window.location.reload();\n        }\n      } catch (fetchError) {\n        setModalMessage('Erreur lors de la requête de paiement');\n      }\n    }\n    setLoading(false);\n  };\n  const handleAmountClick = selectedAmount => {\n    setAmount(selectedAmount);\n  };\n  const closeModal = () => {\n    setModalMessage(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"donation-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nom\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Pr\\xE9nom\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: surname,\n            onChange: e => setSurname(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Num\\xE9ro de rue\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: streetNumber,\n            onChange: e => setStreetNumber(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nom de la voie\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: streetName,\n            onChange: e => setStreetName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Code Postal\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: postalCode,\n            onChange: e => setPostalCode(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Ville\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: city,\n            onChange: e => setCity(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-section\",\n        children: /*#__PURE__*/_jsxDEV(CardElement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !stripe || !amount || loading,\n        children: loading ? 'Chargement...' : `Contribuer à hauteur de 50€`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), modalMessage && /*#__PURE__*/_jsxDEV(Modal, {\n      message: modalMessage,\n      onClose: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(ContributionsForm, \"FZEh0g7XBnt7cgZBm5+i4Bc6b9M=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = ContributionsForm;\nconst Contributions = () => {\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"donation-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Contribution annuelle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ContributionsForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 9\n  }, this);\n};\n_c2 = Contributions;\nexport default Contributions;\nvar _c, _c2;\n$RefreshReg$(_c, \"ContributionsForm\");\n$RefreshReg$(_c2, \"Contributions\");","map":{"version":3,"names":["React","useState","loadStripe","Elements","CardElement","useStripe","useElements","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","stripePromise","ContributionsForm","_s","stripe","elements","amount","setAmount","name","setName","surname","setSurname","email","setEmail","streetNumber","setStreetNumber","streetName","setStreetName","postalCode","setPostalCode","city","setCity","errors","setErrors","loading","setLoading","successMessage","setSuccessMessage","errorMessage","setErrorMessage","modalMessage","setModalMessage","handleSubmit","event","preventDefault","newErrors","test","push","length","join","cardElement","getElement","error","paymentMethod","createPaymentMethod","type","card","billing_details","address","line1","postal_code","country","message","response","fetch","method","headers","body","JSON","stringify","paymentMethodId","id","paymentResult","json","fetchError","handleAmountClick","selectedAmount","closeModal","children","onSubmit","className","value","onChange","e","target","required","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onClose","_c","Contributions","_c2","$RefreshReg$"],"sources":["/Users/clemzouuu/Desktop/ESGI/ARCHI_1/PROJET_ANNUEL/UFC-QUE-CHOISIR/ufc/front_end/src/components/bills/Contributions.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport '../../styles/home.css';\nimport Modal from './Modal'; \nimport logo from \"../../img/header/favicon.svg.png\";\n\nconst stripePromise = loadStripe('pk_test_51PdZ5OJR2hyal4ZRgFsePEuUdfqPYa0D6RhfbwzAj1h0RmnItT51bQwwUq4LNb8KrojF1NoiZeHJqJZOYBfTOz7S003JkbkRp6');\n\nconst ContributionsForm: React.FC = () => {\n    const stripe = useStripe();\n    const elements = useElements();\n    const [amount, setAmount] = useState<number>(50);\n    const [name, setName] = useState('');\n    const [surname, setSurname] = useState('');\n    const [email, setEmail] = useState('');\n    const [streetNumber, setStreetNumber] = useState('');\n    const [streetName, setStreetName] = useState('');\n    const [postalCode, setPostalCode] = useState('');\n    const [city, setCity] = useState('');\n    const [errors, setErrors] = useState<string[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [successMessage, setSuccessMessage] = useState<string | null>(null);\n    const [errorMessage, setErrorMessage] = useState<string | null>(null);\n    const [modalMessage, setModalMessage] = useState<string | null>(null);\n\n    const handleSubmit = async (event: React.FormEvent) => {\n        event.preventDefault();\n        setLoading(true);\n        setErrors([]);\n        setErrorMessage(null);\n\n        const newErrors: string[] = [];\n\n        if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(name)) newErrors.push('Le nom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n        if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(surname)) newErrors.push('Le prénom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n        if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(city)) newErrors.push('La ville ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n        if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) newErrors.push('L\\'email n\\'est pas valide.');\n        if (!/^\\d{5}$/.test(postalCode)) newErrors.push('Le code postal doit contenir exactement 5 chiffres.');\n\n        setErrors(newErrors);\n\n        if (newErrors.length > 0) {\n            setLoading(false);\n            setModalMessage(newErrors.join('\\n'));\n            return;\n        }\n\n        if (!stripe || !elements) {\n            setErrorMessage('Stripe n\\'est pas correctement configuré.');\n            setLoading(false);\n            setModalMessage('Stripe n\\'est pas correctement configuré.');\n            return;\n        }\n\n        const cardElement = elements.getElement(CardElement);\n\n        if (!cardElement) {\n            setErrorMessage('Élément de carte introuvable.');\n            setLoading(false);\n            setModalMessage('Élément de carte introuvable.');\n            return;\n        }\n\n        const { error, paymentMethod } = await stripe.createPaymentMethod({\n            type: 'card',\n            card: cardElement,\n            billing_details: {\n                name: name + \" \" + surname,\n                email: email,\n                address: {\n                    line1: `${streetNumber} ${streetName}`,\n                    postal_code: postalCode,\n                    city: city,\n                    country: 'FR',\n                },\n            },\n        });\n\n        if (error) {\n            setErrorMessage('Erreur de création de méthode de paiement : ' + error.message);\n            setLoading(false);\n            setModalMessage('Erreur de création de méthode de paiement : ' + error.message);\n            return;\n        }\n\n        if (paymentMethod) {\n            try {\n                const response = await fetch('http://localhost:3000/contributions', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({\n                        amount: amount,\n                        paymentMethodId: paymentMethod.id,\n                    }),\n                });\n\n                const paymentResult = await response.json();\n                if (paymentResult.error) {\n                    setModalMessage('Erreur lors de la création de l\\'intention de paiement : ' + paymentResult.error);\n                } else {\n                    setModalMessage('Paiement réussi !');\n                   // window.location.reload();\n                    \n                }\n            } catch (fetchError) {\n                setModalMessage('Erreur lors de la requête de paiement');\n            }\n        }\n\n        setLoading(false);\n    };\n\n    const handleAmountClick = (selectedAmount: number) => {\n        setAmount(selectedAmount);\n    };\n\n    const closeModal = () => {\n        setModalMessage(null);\n    };\n\n    return (\n        <>\n            <form onSubmit={handleSubmit} className=\"donation-form\">\n                <div className=\"info-section\">\n                    <label>\n                        Nom\n                        <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\n                    </label>\n                    <label>\n                        Prénom\n                        <input type=\"text\" value={surname} onChange={(e) => setSurname(e.target.value)} required />\n                    </label>\n                    <label>\n                        Email\n                        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n                    </label>\n                    <label>\n                        Numéro de rue\n                        <input type=\"text\" value={streetNumber} onChange={(e) => setStreetNumber(e.target.value)} required />\n                    </label>\n                    <label>\n                        Nom de la voie\n                        <input type=\"text\" value={streetName} onChange={(e) => setStreetName(e.target.value)} required />\n                    </label>\n                    <label>\n                        Code Postal\n                        <input type=\"text\" value={postalCode} onChange={(e) => setPostalCode(e.target.value)} required />\n                    </label>\n                    <label>\n                        Ville\n                        <input type=\"text\" value={city} onChange={(e) => setCity(e.target.value)} required />\n                    </label>\n                </div>\n                <div className=\"payment-section\">\n                    <CardElement />\n                </div>\n                <button type=\"submit\" disabled={!stripe || !amount || loading}>\n                    {loading ? 'Chargement...' : `Contribuer à hauteur de 50€`}\n                </button>\n            </form>\n            {modalMessage && (\n                <Modal message={modalMessage} onClose={closeModal} />\n            )}\n        </>\n    );\n};\n\nconst Contributions: React.FC = () => {\n    return (\n        <Elements stripe={stripePromise}>\n            <div className=\"donation-container\">\n                <h1>Contribution annuelle</h1>\n                <ContributionsForm />\n            </div>\n        </Elements>\n    );\n};\n\nexport default Contributions;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}