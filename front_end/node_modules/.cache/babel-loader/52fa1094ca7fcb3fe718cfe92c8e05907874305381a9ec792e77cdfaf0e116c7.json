{"ast":null,"code":"var _jsxFileName = \"/Users/clemzouuu/Desktop/ESGI/ARCHI_1/PROJET_ANNUEL/UFC-QUE-CHOISIR/ufc/front_end/src/components/bills/Donations.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport '../../styles/home.css';\nimport Modal from './Modal';\nimport logo from \"../../img/header/favicon.svg.png\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe('pk_test_51PdZ5OJR2hyal4ZRgFsePEuUdfqPYa0D6RhfbwzAj1h0RmnItT51bQwwUq4LNb8KrojF1NoiZeHJqJZOYBfTOz7S003JkbkRp6');\nconst DonationForm = () => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [amount, setAmount] = useState(null);\n  const [name, setName] = useState('');\n  const [surname, setSurname] = useState('');\n  const [email, setEmail] = useState('');\n  const [streetNumber, setStreetNumber] = useState('');\n  const [streetName, setStreetName] = useState('');\n  const [postalCode, setPostalCode] = useState('');\n  const [city, setCity] = useState('');\n  const [errors, setErrors] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [modalMessage, setModalMessage] = useState(null);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    setErrors([]);\n    setErrorMessage(null);\n    const newErrors = [];\n    if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(name)) newErrors.push('Le nom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n    if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(surname)) newErrors.push('Le prénom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n    if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(city)) newErrors.push('La ville ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) newErrors.push('L\\'email n\\'est pas valide.');\n    if (!/^\\d{5}$/.test(postalCode)) newErrors.push('Le code postal doit contenir exactement 5 chiffres.');\n    setErrors(newErrors);\n    if (newErrors.length > 0) {\n      setLoading(false);\n      setModalMessage(newErrors.join('\\n'));\n      return;\n    }\n    if (!stripe || !elements) {\n      setErrorMessage('Stripe n\\'est pas correctement configuré.');\n      setLoading(false);\n      setModalMessage('Stripe n\\'est pas correctement configuré.');\n      return;\n    }\n    const cardElement = elements.getElement(CardElement);\n    if (!cardElement) {\n      setErrorMessage('Élément de carte introuvable.');\n      setLoading(false);\n      setModalMessage('Élément de carte introuvable.');\n      return;\n    }\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: cardElement,\n      billing_details: {\n        name: name + \" \" + surname,\n        email: email,\n        address: {\n          line1: `${streetNumber} ${streetName}`,\n          postal_code: postalCode,\n          city: city,\n          country: 'FR'\n        }\n      }\n    });\n    if (error) {\n      setErrorMessage('Erreur de création de méthode de paiement : ' + error.message);\n      setLoading(false);\n      setModalMessage('Erreur de création de méthode de paiement : ' + error.message);\n      return;\n    }\n    if (paymentMethod) {\n      try {\n        const response = await fetch('http://localhost:3000/create-payment', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            amount: amount,\n            paymentMethodId: paymentMethod.id\n          })\n        });\n        const paymentResult = await response.json();\n        if (paymentResult.error) {\n          setErrorMessage('Erreur lors de la création de l\\'intention de paiement : ' + paymentResult.error);\n          setModalMessage('Erreur lors de la création de l\\'intention de paiement : ' + paymentResult.error);\n        } else {\n          setSuccessMessage('Paiement réussi ! Redirection...');\n          setModalMessage('Paiement réussi ! Redirection...');\n          setTimeout(() => {\n            window.location.href = '/';\n          }, 3000);\n        }\n      } catch (fetchError) {\n        setErrorMessage('Erreur lors de la requête de paiement');\n        setModalMessage('Erreur lors de la requête de paiement');\n      }\n    }\n    setLoading(false);\n  };\n  const handleAmountClick = selectedAmount => {\n    setAmount(selectedAmount);\n  };\n  const closeModal = () => {\n    setModalMessage(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"donation-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"amount-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"amount-options\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `amount-button ${amount === 5 ? 'selected' : ''}`,\n            onClick: () => handleAmountClick(5),\n            children: \"5\\u20AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `amount-button ${amount === 30 ? 'selected' : ''}`,\n            onClick: () => handleAmountClick(30),\n            children: \"30\\u20AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `amount-button ${amount === 50 ? 'selected' : ''}`,\n            onClick: () => handleAmountClick(50),\n            children: \"50\\u20AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `amount-button ${amount === 100 ? 'selected' : ''}`,\n            onClick: () => handleAmountClick(100),\n            children: \"100\\u20AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Autre montant\",\n            className: \"otherAmount\",\n            onChange: e => setAmount(Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nom\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Pr\\xE9nom\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: surname,\n            onChange: e => setSurname(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Num\\xE9ro de rue\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: streetNumber,\n            onChange: e => setStreetNumber(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nom de la voie\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: streetName,\n            onChange: e => setStreetName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Code Postal\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: postalCode,\n            onChange: e => setPostalCode(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Ville\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: city,\n            onChange: e => setCity(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-section\",\n        children: /*#__PURE__*/_jsxDEV(CardElement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !stripe || !amount || loading,\n        children: loading ? 'Chargement...' : `Faire un don ${amount ? `de ${amount}€` : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), modalMessage && /*#__PURE__*/_jsxDEV(Modal, {\n      message: modalMessage,\n      onClose: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(DonationForm, \"kQRg8Xf06yEUOBq/mk8yK3ZmGH4=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = DonationForm;\nconst Donation = () => {\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"donation-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"QUE CHOISIR\",\n        className: \"donationLogo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Faire un don\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DonationForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 9\n  }, this);\n};\n_c2 = Donation;\nexport default Donation;\nvar _c, _c2;\n$RefreshReg$(_c, \"DonationForm\");\n$RefreshReg$(_c2, \"Donation\");","map":{"version":3,"names":["React","useState","loadStripe","Elements","CardElement","useStripe","useElements","Modal","logo","jsxDEV","_jsxDEV","Fragment","_Fragment","stripePromise","DonationForm","_s","stripe","elements","amount","setAmount","name","setName","surname","setSurname","email","setEmail","streetNumber","setStreetNumber","streetName","setStreetName","postalCode","setPostalCode","city","setCity","errors","setErrors","loading","setLoading","successMessage","setSuccessMessage","errorMessage","setErrorMessage","modalMessage","setModalMessage","handleSubmit","event","preventDefault","newErrors","test","push","length","join","cardElement","getElement","error","paymentMethod","createPaymentMethod","type","card","billing_details","address","line1","postal_code","country","message","response","fetch","method","headers","body","JSON","stringify","paymentMethodId","id","paymentResult","json","setTimeout","window","location","href","fetchError","handleAmountClick","selectedAmount","closeModal","children","onSubmit","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","e","Number","target","value","required","disabled","onClose","_c","Donation","src","alt","_c2","$RefreshReg$"],"sources":["/Users/clemzouuu/Desktop/ESGI/ARCHI_1/PROJET_ANNUEL/UFC-QUE-CHOISIR/ufc/front_end/src/components/bills/Donations.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport '../../styles/home.css';\nimport Modal from './Modal'; \nimport logo from \"../../img/header/favicon.svg.png\";\n\nconst stripePromise = loadStripe('pk_test_51PdZ5OJR2hyal4ZRgFsePEuUdfqPYa0D6RhfbwzAj1h0RmnItT51bQwwUq4LNb8KrojF1NoiZeHJqJZOYBfTOz7S003JkbkRp6');\n\nconst DonationForm: React.FC = () => {\n    const stripe = useStripe();\n    const elements = useElements();\n    const [amount, setAmount] = useState<number | null>(null);\n    const [name, setName] = useState('');\n    const [surname, setSurname] = useState('');\n    const [email, setEmail] = useState('');\n    const [streetNumber, setStreetNumber] = useState('');\n    const [streetName, setStreetName] = useState('');\n    const [postalCode, setPostalCode] = useState('');\n    const [city, setCity] = useState('');\n    const [errors, setErrors] = useState<string[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [successMessage, setSuccessMessage] = useState<string | null>(null);\n    const [errorMessage, setErrorMessage] = useState<string | null>(null);\n    const [modalMessage, setModalMessage] = useState<string | null>(null);\n\n    const handleSubmit = async (event: React.FormEvent) => {\n        event.preventDefault();\n        setLoading(true);\n        setErrors([]);\n        setErrorMessage(null);\n\n        const newErrors: string[] = [];\n\n        if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(name)) newErrors.push('Le nom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n        if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(surname)) newErrors.push('Le prénom ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n        if (!/^[A-Za-zÀ-ÿ\\s'-]+$/.test(city)) newErrors.push('La ville ne doit contenir que des lettres, des espaces, des tirets ou des apostrophes.');\n        if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) newErrors.push('L\\'email n\\'est pas valide.');\n        if (!/^\\d{5}$/.test(postalCode)) newErrors.push('Le code postal doit contenir exactement 5 chiffres.');\n\n        setErrors(newErrors);\n\n        if (newErrors.length > 0) {\n            setLoading(false);\n            setModalMessage(newErrors.join('\\n'));\n            return;\n        }\n\n        if (!stripe || !elements) {\n            setErrorMessage('Stripe n\\'est pas correctement configuré.');\n            setLoading(false);\n            setModalMessage('Stripe n\\'est pas correctement configuré.');\n            return;\n        }\n\n        const cardElement = elements.getElement(CardElement);\n\n        if (!cardElement) {\n            setErrorMessage('Élément de carte introuvable.');\n            setLoading(false);\n            setModalMessage('Élément de carte introuvable.');\n            return;\n        }\n\n        const { error, paymentMethod } = await stripe.createPaymentMethod({\n            type: 'card',\n            card: cardElement,\n            billing_details: {\n                name: name + \" \" + surname,\n                email: email,\n                address: {\n                    line1: `${streetNumber} ${streetName}`,\n                    postal_code: postalCode,\n                    city: city,\n                    country: 'FR',\n                },\n            },\n        });\n\n        if (error) {\n            setErrorMessage('Erreur de création de méthode de paiement : ' + error.message);\n            setLoading(false);\n            setModalMessage('Erreur de création de méthode de paiement : ' + error.message);\n            return;\n        }\n\n        if (paymentMethod) {\n            try {\n                const response = await fetch('http://localhost:3000/create-payment', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({\n                        amount: amount,\n                        paymentMethodId: paymentMethod.id,\n                    }),\n                });\n\n                const paymentResult = await response.json();\n                if (paymentResult.error) {\n                    setErrorMessage('Erreur lors de la création de l\\'intention de paiement : ' + paymentResult.error);\n                    setModalMessage('Erreur lors de la création de l\\'intention de paiement : ' + paymentResult.error);\n                } else {\n                    setSuccessMessage('Paiement réussi ! Redirection...');\n                    setModalMessage('Paiement réussi ! Redirection...');\n                    setTimeout(() => {\n                        window.location.href = '/';\n                    }, 3000);  \n                }\n            } catch (fetchError) {\n                setErrorMessage('Erreur lors de la requête de paiement');\n                setModalMessage('Erreur lors de la requête de paiement');\n            }\n        }\n\n        setLoading(false);\n    };\n\n    const handleAmountClick = (selectedAmount: number) => {\n        setAmount(selectedAmount);\n    };\n\n    const closeModal = () => {\n        setModalMessage(null);\n    };\n\n    return (\n        <>\n            <form onSubmit={handleSubmit} className=\"donation-form\">\n                <div className=\"amount-section\">\n                    <div className=\"amount-options\">\n                        <button\n                            type=\"button\"\n                            className={`amount-button ${amount === 5 ? 'selected' : ''}`}\n                            onClick={() => handleAmountClick(5)}\n                        >\n                            5€\n                        </button>\n                        <button\n                            type=\"button\"\n                            className={`amount-button ${amount === 30 ? 'selected' : ''}`}\n                            onClick={() => handleAmountClick(30)}\n                        >\n                            30€\n                        </button>\n                        <button\n                            type=\"button\"\n                            className={`amount-button ${amount === 50 ? 'selected' : ''}`}\n                            onClick={() => handleAmountClick(50)}\n                        >\n                            50€\n                        </button>\n                        <button\n                            type=\"button\"\n                            className={`amount-button ${amount === 100 ? 'selected' : ''}`}\n                            onClick={() => handleAmountClick(100)}\n                        >\n                            100€\n                        </button>\n                        <input\n                            type=\"number\"\n                            placeholder=\"Autre montant\"\n                            className='otherAmount'\n                            onChange={(e) => setAmount(Number(e.target.value))}\n                        />\n                    </div>\n                </div>\n                <div className=\"info-section\">\n                    <label>\n                        Nom\n                        <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\n                    </label>\n                    <label>\n                        Prénom\n                        <input type=\"text\" value={surname} onChange={(e) => setSurname(e.target.value)} required />\n                    </label>\n                    <label>\n                        Email\n                        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n                    </label>\n                    <label>\n                        Numéro de rue\n                        <input type=\"text\" value={streetNumber} onChange={(e) => setStreetNumber(e.target.value)} required />\n                    </label>\n                    <label>\n                        Nom de la voie\n                        <input type=\"text\" value={streetName} onChange={(e) => setStreetName(e.target.value)} required />\n                    </label>\n                    <label>\n                        Code Postal\n                        <input type=\"text\" value={postalCode} onChange={(e) => setPostalCode(e.target.value)} required />\n                    </label>\n                    <label>\n                        Ville\n                        <input type=\"text\" value={city} onChange={(e) => setCity(e.target.value)} required />\n                    </label>\n                </div>\n                <div className=\"payment-section\">\n                    <CardElement />\n                </div>\n                <button type=\"submit\" disabled={!stripe || !amount || loading}>\n                    {loading ? 'Chargement...' : `Faire un don ${amount ? `de ${amount}€` : ''}`}\n                </button>\n            </form>\n            {modalMessage && (\n                <Modal message={modalMessage} onClose={closeModal} />\n            )}\n        </>\n    );\n};\n\nconst Donation: React.FC = () => {\n    return (\n        <Elements stripe={stripePromise}>\n            <div className=\"donation-container\">\n                <img src={logo} alt=\"QUE CHOISIR\" className=\"donationLogo\"/>\n                <h1>Faire un don</h1>\n                <DonationForm />\n            </div>\n        </Elements>\n    );\n};\n\nexport default Donation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}